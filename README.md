# spider-collect-data-analyse-doc
爬虫分析数据平台-文档

### 爬虫指标菜单栏：
1. 仪表盘：
	- BiliBili-爬取总视频数量、总用户数量、总评论数量、总弹幕数量
	- 已分析用户与视频数量
	- 正在运行的爬取实例
	- 过往日周月周期数据占比
	- 日周月周期数据量
	- 总成功率失败率，失败记录条数
	- CPU占用率、数据库磁盘空间占用率
2. 样本与实例：
	- 多种爬虫样本
	- 多种状态爬虫实例（样本生成运行实例）
3. 实例数据：
	- BiliBili - 各分区热门视频、综合热门视频、每周必看、入站必刷、用户分析、视频分析
	- 数据展示
	- 数据导出
4. 运行日志：
	- 请求参数
	- 响应参数
	- 成功率
	- 失败率
	- 耗时
	- 抓取速率
	- 抓取延迟
	- 请求次数
5. 运行状态监控：
	- 启动时间
	- 执行时间
	- 结束时间
	- 停止/暂停
	- 启动
	- 终止
6. IP/UA代理池
7. 节点监控：
	- 当前计算机运行状态
	- 数据库资源占用
	- 资源占用
8. 通知日志：
	- 微信/QQ/短信通知
9. 全局ID发布

### 爬虫抓取业务逻辑
B站抓取路线分两类：
1. 分析视频：视频出发，抓取视频信息+评论+弹幕+发布者信息
2. 分析用户：用户出发，抓取用户空间与粉丝群体，包括用户空间的发布视频信息，与粉丝群体画像
抓取周期：
1. 热门视频，周期性抓取，分析视频+分析用户
2. 用户设置，周期性抓取
3. 用户设置，单次抓取
抓取范围
1. 分析视频：视频基础信息，评论，评论词图，评论用户群体画像，弹幕，弹幕词图，弹幕用户群体画像，用户个人简略信息（即分析视频=视频+评论+弹幕+用户）
2. 分析用户：用户个人信息，用户空间视频合集，视频合集简略视频信息，用户粉丝群体简略信息，粉丝群体画像（即分析用户=用户+投稿合集+粉丝）